# MongoDB Connection String
# MongoDB Atlas (Cloud Database) - Currently in use
MONGODB_URI=mongodb+srv://admin:Welcome%24123@cluster0.owr3ooi.mongodb.net/uniform-distribution?retryWrites=true&w=majority

# For local MongoDB (if needed):
# MONGODB_URI=mongodb://localhost:27017/uniform-distribution

# Encryption Key
# CRITICAL: Must match the key from your old laptop for encrypted data to decrypt
# Must be exactly 32 characters for AES-256 encryption
ENCRYPTION_KEY=default-encryption-key-change-in-production-32-chars!!

# Next.js Port
PORT=3001

# Node Environment
NODE_ENV=development

# =============================================================================
# UNIFIED WORKFLOW MIGRATION FLAGS
# =============================================================================

# DUAL_WRITE_ENABLED: Write to both legacy and unified status fields
# Set to "true" to enable dual-write, "false" to disable
DUAL_WRITE_ENABLED=true

# READ_FROM_UNIFIED: Read status from unified fields instead of legacy
# Set to "true" to read from unified_*, "false" to read from legacy fields
# IMPORTANT: Only enable after DUAL_WRITE_ENABLED has been true for 24+ hours
READ_FROM_UNIFIED=false

# SAFE_MODE: Controls migration safety guards
# Set to "false" to disable safety checks (unified fields become primary)
# IMPORTANT: Only disable after Phase 4 readiness report confirms 100% coverage
SAFE_MODE=false

# =============================================================================
# EMAIL NOTIFICATION SETTINGS
# =============================================================================

# Master switch to enable/disable email notifications
ENABLE_EMAIL_NOTIFICATIONS=true

# SMTP Server Configuration (Gmail recommended)
# To use Gmail SMTP:
# 1. Enable 2-Factor Authentication on your Google account
# 2. Go to https://myaccount.google.com/apppasswords
# 3. Generate an App Password for "Mail" -> "Other (UDS Notifications)"
# 4. Use the 16-character password below (no spaces)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-16-char-app-password

# From address configuration
SMTP_FROM_NAME=UDS Notifications
SMTP_FROM_EMAIL=your-email@gmail.com

# =============================================================================
# NOTIFICATION TEST MODE
# =============================================================================
# When enabled, ALL notification emails are redirected to a single test email
# instead of the actual recipients. Useful for testing without spamming users.
#
# The email subject will be prefixed with [TEST â†’ original@email.com]
# and the email body will include a banner showing the original recipient.

# Set to "true" to enable test mode, "false" or remove for production
NOTIFICATION_TEST_MODE=true

# The email address to receive ALL notifications in test mode
NOTIFICATION_TEST_EMAIL=your-test-email@gmail.com